<html><head><link href="/simplecss/styles.css" rel="stylesheet"/>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3040480045347797"
     crossorigin="anonymous"></script>
     <script
    src="https://topmate-embed.s3.ap-south-1.amazonaws.com/v1/topmate-embed.js"
    user-profile="https://topmate.io/embed/profile/ananth_tirumanur?theme=D5534D"
    btn-style='{"backgroundColor":"#000","color":"#fff","border":"1px solid #000"}'
    embed-version="v1"
    button-text="Let's Connect"
    position-right="30px"
    position-bottom="30px"
    custom-padding="0px"
    custom-font-size="16px"
    custom-font-weight="500"
    custom-width="200px"
    async=""
    defer=""
  ></script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VS67BGEQZW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VS67BGEQZW');
</script>  
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="https://www.iexpertify.com/">iExpertify</a></li>
                <li><a href="https://www.iexpertify.com/free-utilities/">Free Utilities</a></li>
            </ul>
        </nav>
    </header>






Aggregator Stage in DataStage - Data Warehousing
Reading Time:  4 minutes
<p>Aggregator stage is a processing stage in datastage it is used for grouping and summary operations. By Default Aggregator stage will execute in parallel mode in parallel jobs.   In a Parallel environment, the way that we partition data before grouping and summary will affect the results. If you partition data using round-robin method and then records with same key values will distribute across different partitions and that will give in correct results.   </p>
<p>Aggregator stage: Grouping keys category Group – Specifies an input column you are using as a grouping key. Repeat the property to select multiple columns as group keys. This property has a dependent property: Case Sensitive – Use this to specify whether each group key is case sensitive or not, this is set to True by default, that is, the values “CASE” and “case” in would end up in different groups.</p>
<p>Aggregator stage: Aggregations category   Aggregation type – Choose from Calculate (the default), Recalculate, and Count Rows. Recalculate – This aggregate type allows you to apply aggregate functions to a column that has already been summarized. Column for calculation – The Calculate aggregate type allows you to summarize the contents of a particular column or columns in your input data set by applying one or more aggregate functions to it. Select the column to be aggregated, then select dependent properties to specify the operation to perform on it, and the output column to carry the result.   </p>
<p>Aggregator stage: Options category The aggregate stage has two modes of operation: hash and sort.   Method – Your choice of mode depends primarily on the number of groupings in the input data set, taking into account the amount of memory available. You typically use hash mode for a relatively small number of groups; generally, fewer than about 1000 groups per megabyte of memory to be used.   When using hash mode, you should hash partition the input data set by one or more of the grouping key columns so that all the records in the same group are in the same partition (this happens automatically if auto is set in the Partitioning tab). However, hash partitioning is not mandatory, you can use any partitioning method you choose if keeping groups together in a single partition is not important. For example, if you’re summing records in each partition and later you’ll add the sums across all partitions, you don’t need all records in a group to be in the same partition to do this. Note, though, that there will be multiple output records for each group.   If the number of groups is large, which can happen if you specify many grouping keys, or if some grouping keys can take on many values, you would normally use sort mode. However, sort mode requires the input data set to have been partition sorted with all of the grouping keys specified as hashing and sorting keys (this happens automatically if auto is set in the Partitioning tab). Sorting requires a pregrouping operation: after sorting, all records in a given group in the same partition are consecutive. The method property is set to hash by default.   Allow null outputs – Set this to True to indicate that null is a valid output value when calculating minimum value, maximum value, mean value, standard deviation, standard error, sum, sum of weights, and variance. If False, the null value will have 0 substituted when all input values for the calculation column are null. It is False by default.   </p>
<p>For example, if we have the data as below </p>
<p>e_id,e_name,dept_no </p>
<p>1,john,10 </p>
<p>2,rocky,20 </p>
<p>3,micky,10 </p>
<p>4,bibhu,20 </p>
<p>5,russ,10   </p>
<p>Use Aggregator stage to find number of people each in each department.   </p>
<p>Job design:   </p>
<p>sequential_file ——-&gt; Aggregator ——–&gt; sequential_file </p>
<p>Read and load the data in source file. Go to Aggregator Stage and set below properties </p>
<p>Group=Dept_No Aggregator type = Count Rows Count Output Column = Count (This is User Determined)   </p>
<p>Output: </p>
<p>dept_no,count </p>
<p>10,3 </p>
<p>20,2</p>

<br><br>
<footer>
<h3>Meet Ananth Tirumanur. Hi there 👋</h3>

    <h4>I work on projects in data science, big data, data engineering, data modeling, software engineering, and system design.</h4>

    <ul>
        <li>👨‍💻 All of my projects are available at <a href="https://github.com/akrish1982">https://github.com/akrish1982</a></li>
        <li>💬 Ask me about <strong>Data engineering, SQL, Databases, Data pipelines, Data infrastructure</strong></li>
        <li>📄 My work history: <a href="https://www.linkedin.com/in/ananthtirumanur/">https://www.linkedin.com/in/ananthtirumanur/</a></li>
        <li>⚡ Fun fact: Marathoner & Casual Birding enthusiast</li>
    </ul>
    <iframe height='160' width='300' frameborder='0' allowtransparency='true' scrolling='no' src='https://www.strava.com/athletes/42567926/activity-summary/6bbf7aabb6546e61f1317a54d973b259158da8a8'></iframe>


    <h3>Connect with me:</h3>
    <ul>
        <li>Twitter: <a href="https://twitter.com/akrish82">@akrish82</a></li>
        <li>LinkedIn: <a href="https://linkedin.com/in/ananthtirumanur/">https://linkedin.com/in/ananthtirumanur/</a></li>
    </ul>

<h3>My Resources:</h3>
    <ul>
        <li>LinkedIn Newsletter: <a href="https://www.linkedin.com/newsletters/data-engineering-with-aws-7096111313352880128/">Data Engineering with AWS</a></li>
        <li>Udemy Course: <a href="https://www.udemy.com/course/aws-certified-data-engineer-associate-practice-test/learn/quiz/6218524#overview">AWS Certified Data Engineer Associate Practice Test</a></li>
        <li>Python Crash Course: <a href="https://akrish82.gumroad.com/l/python-crash-course">Python Crash Course on Gumroad</a></li>
    </ul>

    <h3>Languages and Tools:</h3>
    <p>AWS, Bash, Docker, Elasticsearch, Git, Grafana, Hadoop, Hive, EMR, Glue, Athena, Lambda, Step Functions, Airflow/MWAA, DynamoDB, Kafka, Kubernetes, Linux, MariaDB, MySQL, Pandas, PostgreSQL, Python, Redis, Scala, SQLite</p>
</footer>
</body>
</html>





 





 
 







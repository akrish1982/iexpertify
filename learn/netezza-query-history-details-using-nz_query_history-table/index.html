<!DOCTYPE html>

<html lang="en-US" xmlns:addthis="https://www.addthis.com/help/api-spec" xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" name="robots"/>
<title>nz_query_history Table - learn learn</title>
<meta content="en_US" property="og:locale"/>
<meta content="article" property="og:type"/>
<meta content="nz_query_history Table - learn learn" property="og:title"/>
<meta content="Reading Time: 4 minutes Netezza query history configuration steps are simple. You can follow below steps to use Netezza query history views to collect Netezza queries historical data in separate history table in optional history database. we will cover these topics: hide 1) Why would we check query history details? 2) How to get Netezza Query History details using nz_query_hostory table? 3)… Continue reading nz_query_history Table" property="og:description"/>
<meta content="https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/" property="og:url"/>
<meta content="iexpertify" property="og:site_name"/>
<meta content="https://www.facebook.com/iExpertify-102371968557959" property="article:publisher"/>
<meta content="2020-05-10T01:27:34+00:00" property="article:published_time"/>
<meta content="2021-02-20T15:22:05+00:00" property="article:modified_time"/>
<meta content="akrish1982" name="author"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@iexpertify" name="twitter:creator"/>
<meta content="@iexpertify" name="twitter:site"/>
<meta content="Written by" name="twitter:label1"/>
<meta content="akrish1982" name="twitter:data1"/>
<meta content="Est. reading time" name="twitter:label2"/>
<meta content="4 minutes" name="twitter:data2"/>
<script class="yoast-schema-graph" type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"TechArticle","@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/#article","isPartOf":{"@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/"},"author":{"name":"akrish1982","@id":"https://www.iexpertify.com/#/schema/person/6d22cba514d0b526fda5f3ff1cebd395"},"headline":"nz_query_history Table","datePublished":"2020-05-10T01:27:34+00:00","dateModified":"2021-02-20T15:22:05+00:00","mainEntityOfPage":{"@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/"},"wordCount":557,"commentCount":0,"publisher":{"@id":"https://www.iexpertify.com/#organization"},"keywords":["Netezza"],"articleSection":["learn"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/#respond"]}]},{"@type":"WebPage","@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/","url":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/","name":"nz_query_history Table - learn learn","isPartOf":{"@id":"https://www.iexpertify.com/#website"},"datePublished":"2020-05-10T01:27:34+00:00","dateModified":"2021-02-20T15:22:05+00:00","breadcrumb":{"@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/"]}]},{"@type":"BreadcrumbList","@id":"https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.iexpertify.com/"},{"@type":"ListItem","position":2,"name":"nz_query_history Table"}]},{"@type":"WebSite","@id":"https://www.iexpertify.com/#website","url":"https://www.iexpertify.com/","name":"Learn any Technology","description":"Upskill in 30 days, just 1 hour a day","publisher":{"@id":"https://www.iexpertify.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://www.iexpertify.com/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"Organization","@id":"https://www.iexpertify.com/#organization","name":"iExpertify Inc.","url":"https://www.iexpertify.com/","logo":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://www.iexpertify.com/#/schema/logo/image/","url":"https://www.iexpertify.com/wp-content/uploads/2020/12/iExpertify-Logo.png","contentUrl":"https://www.iexpertify.com/wp-content/uploads/2020/12/iExpertify-Logo.png","width":148,"height":62,"caption":"iExpertify Inc."},"image":{"@id":"https://www.iexpertify.com/#/schema/logo/image/"},"sameAs":["https://www.youtube.com/channel/UCFrG1RTSQZYHoSx5-nJxcnQ/featured","https://www.facebook.com/iExpertify-102371968557959","https://twitter.com/iexpertify"]},{"@type":"Person","@id":"https://www.iexpertify.com/#/schema/person/6d22cba514d0b526fda5f3ff1cebd395","name":"akrish1982","image":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://www.iexpertify.com/#/schema/person/image/","url":"https://secure.gravatar.com/avatar/8858be87c957147d97ba3498a97f2e24?s=96&d=wavatar&r=g","contentUrl":"https://secure.gravatar.com/avatar/8858be87c957147d97ba3498a97f2e24?s=96&d=wavatar&r=g","caption":"akrish1982"},"sameAs":["https://www.iexpertify.com","https://www.linkedin.com/in/ananthtirumanur/?lipi=urnlipaged_flagship3_feedRjIo9iaYS1KDsFau2D8wA"],"url":"https://www.iexpertify.com/author/akrish1982/"}]}</script>
<link href="https://www.googletagmanager.com/" rel="dns-prefetch"/>
<link href="https://pagead2.googlesyndication.com/" rel="dns-prefetch"/>
<link href="https://www.iexpertify.com/feed/" rel="alternate" title="iexpertify » Feed" type="application/rss+xml"/>
<link href="https://www.iexpertify.com/comments/feed/" rel="alternate" title="iexpertify » Comments Feed" type="application/rss+xml"/>
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.iexpertify.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.1.1"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>

<link href="https://www.iexpertify.com/wp-includes/css/dist/block-library/style.min.css?ver=6.1.1" id="wp-block-library-css" media="all" rel="stylesheet"/>

<link href="https://www.iexpertify.com/wp-includes/css/classic-themes.min.css?ver=1" id="classic-theme-styles-css" media="all" rel="stylesheet"/>

<link href="https://www.iexpertify.com/wp-content/themes/twentytwentyone/style.css?ver=1.2" id="twenty-twenty-one-style-css" media="all" rel="stylesheet"/>

<link href="https://www.iexpertify.com/wp-content/themes/twentytwentyone/assets/css/print.css?ver=1.2" id="twenty-twenty-one-print-style-css" media="print" rel="stylesheet"/>
<link href="https://www.iexpertify.com/wp-content/plugins/yet-another-related-posts-plugin/style/styles_thumbnails.css?ver=5.30.1" id="yarpp-thumbnails-css" media="all" rel="stylesheet"/>

<link href="https://www.iexpertify.com/wp-content/plugins/addthis/frontend/build/addthis_wordpress_public.min.css?ver=6.1.1" id="addthis_all_pages-css" media="all" rel="stylesheet"/>
<link href="https://www.iexpertify.com/wp-content/plugins/yet-another-related-posts-plugin/style/related.css?ver=5.30.1" id="yarppRelatedCss-css" media="all" rel="stylesheet"/>
<link href="https://www.iexpertify.com/wp-content/plugins/luckywp-table-of-contents/front/assets/main.min.css?ver=2.1.4" id="lwptoc-main-css" media="all" rel="stylesheet"/>
 <script>
            /* <![CDATA[ */
            var rcewpp = {
                "ajax_url":"https://www.iexpertify.com/wp-admin/admin-ajax.php",
                "nonce": "83ffdb6c7b",
                "home_url": "https://www.iexpertify.com/",
                "settings_icon": 'https://www.iexpertify.com/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings.png',
                "settings_hover_icon": 'https://www.iexpertify.com/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings_hover.png'
            };
            /* ]]\> */
        </script>
<script async="" id="google_gtagjs-js" src="https://www.googletagmanager.com/gtag/js?id=UA-50079915-2"></script>
<script id="google_gtagjs-js-after">
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('set', 'linker', {"domains":["www.iexpertify.com"]} );
gtag("js", new Date());
gtag("set", "developer_id.dZTNiMT", true);
gtag("config", "UA-50079915-2", {"anonymize_ip":true});
</script>
<script id="lwptoc-main-js" src="https://www.iexpertify.com/wp-content/plugins/luckywp-table-of-contents/front/assets/main.min.js?ver=2.1.4"></script>
<link href="https://www.iexpertify.com/wp-json/" rel="https://api.w.org/"/><link href="https://www.iexpertify.com/wp-json/wp/v2/posts/629" rel="alternate" type="application/json"/><link href="https://www.iexpertify.com/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
<link href="https://www.iexpertify.com/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
<meta content="WordPress 6.1.1" name="generator"/>
<link href="https://www.iexpertify.com/?p=629" rel="shortlink"/>
<link href="https://www.iexpertify.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.iexpertify.com%2Flearn%2Fnetezza-query-history-details-using-nz_query_history-table%2F" rel="alternate" type="application/json+oembed"/>
<link href="https://www.iexpertify.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.iexpertify.com%2Flearn%2Fnetezza-query-history-details-using-nz_query_history-table%2F&amp;format=xml" rel="alternate" type="text/xml+oembed"/>
<meta content="Site Kit by Google 1.90.1" name="generator"/>
<meta content="ca-host-pub-2644536267352236" name="google-adsense-platform-account"/>
<meta content="sitekit.withgoogle.com" name="google-adsense-platform-domain"/>

<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3040480045347797&amp;host=ca-host-pub-2644536267352236"></script>
<link href="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-512x512-icon-32x32.png" rel="icon" sizes="32x32"/>
<link href="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-512x512-icon-192x192.png" rel="icon" sizes="192x192"/>
<link href="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-512x512-icon-180x180.png" rel="apple-touch-icon"/>
<meta content="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-512x512-icon-270x270.png" name="msapplication-TileImage">
</meta><link href="/simplecss/styles.css" rel="stylesheet"/></head>
<body class="post-template-default single single-post postid-629 single-format-standard custom-background wp-custom-logo wp-embed-responsive is-light-theme has-background-white no-js singular has-main-navigation">
<svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0 0.49803921568627" type="table"></fefuncr><fefuncg tablevalues="0 0.49803921568627" type="table"></fefuncg><fefuncb tablevalues="0 0.49803921568627" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0 1" type="table"></fefuncr><fefuncg tablevalues="0 1" type="table"></fefuncg><fefuncb tablevalues="0 1" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0.54901960784314 0.98823529411765" type="table"></fefuncr><fefuncg tablevalues="0 1" type="table"></fefuncg><fefuncb tablevalues="0.71764705882353 0.25490196078431" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0 1" type="table"></fefuncr><fefuncg tablevalues="0 0.27843137254902" type="table"></fefuncg><fefuncb tablevalues="0.5921568627451 0.27843137254902" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0 0" type="table"></fefuncr><fefuncg tablevalues="0 0.64705882352941" type="table"></fefuncg><fefuncb tablevalues="0 1" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0.78039215686275 1" type="table"></fefuncr><fefuncg tablevalues="0 0.94901960784314" type="table"></fefuncg><fefuncb tablevalues="0.35294117647059 0.47058823529412" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0.65098039215686 0.40392156862745" type="table"></fefuncr><fefuncg tablevalues="0 1" type="table"></fefuncg><fefuncb tablevalues="0.44705882352941 0.4" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg focusable="false" height="0" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" viewbox="0 0 0 0" width="0" xmlns="http://www.w3.org/2000/svg"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr tablevalues="0.098039215686275 1" type="table"></fefuncr><fefuncg tablevalues="0 0.66274509803922" type="table"></fefuncg><fefuncb tablevalues="0.84705882352941 0.41960784313725" type="table"></fefuncb><fefunca tablevalues="1 1" type="table"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><div class="site" id="page">
<a class="skip-link screen-reader-text" href="index.html#content">Skip to content</a>
<header class="site-header has-logo has-menu" id="masthead" role="banner">
<div class="site-branding">
<div class="site-logo"><a class="custom-logo-link" href="https://www.iexpertify.com/" rel="home"><img alt="iexpertify" class="custom-logo" decoding="async" height="50" src="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-Logo.png" width="148"/></a></div>
<p class="screen-reader-text"><a href="https://www.iexpertify.com/">iexpertify</a></p>
</div>
<nav aria-label="Primary menu" class="primary-navigation" id="site-navigation" role="navigation">
<div class="menu-button-container">
<button aria-controls="primary-menu-list" aria-expanded="false" class="button" id="primary-mobile-menu">
<span class="dropdown-icon open">Menu <svg aria-hidden="true" class="svg-icon" fill="none" focusable="false" height="24" role="img" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M4.5 6H19.5V7.5H4.5V6ZM4.5 12H19.5V13.5H4.5V12ZM19.5 18H4.5V19.5H19.5V18Z" fill="currentColor" fill-rule="evenodd"></path></svg> </span>
<span class="dropdown-icon close">Close <svg aria-hidden="true" class="svg-icon" fill="none" focusable="false" height="24" role="img" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M12 10.9394L5.53033 4.46973L4.46967 5.53039L10.9393 12.0001L4.46967 18.4697L5.53033 19.5304L12 13.0607L18.4697 19.5304L19.5303 18.4697L13.0607 12.0001L19.5303 5.53039L18.4697 4.46973L12 10.9394Z" fill="currentColor" fill-rule="evenodd"></path></svg> </span>
</button>
</div>
<div class="primary-menu-container"><ul class="menu-wrapper" id="primary-menu-list"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-1025" id="menu-item-1025"><a href="https://www.iexpertify.com/">iExpertify</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1027" id="menu-item-1027"><a href="https://www.iexpertify.com/learn/full-course/netezza/">Netezza</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1504" id="menu-item-1504"><a href="https://saphr.iexpertify.com">SAP HR</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1505" id="menu-item-1505"><a href="https://sapfico.iexpertify.com">SAP FICO</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12338" id="menu-item-12338"><a href="https://www.iexpertify.com/free-courses/">Free Courses</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1634" id="menu-item-1634"><a href="https://www.iexpertify.com/courses/">Courses</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1636" id="menu-item-1636"><a href="https://www.iexpertify.com/lp-checkout/">Checkout</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1642" id="menu-item-1642"><a href="https://www.iexpertify.com/lp-profile/">My Profile</a></li>
</ul></div> </nav>
</header>
<div class="site-content" id="content">
<div class="content-area" id="primary">
<main class="site-main" id="main" role="main">
<article class="post-629 post type-post status-publish format-standard hentry category-learn tag-netezza entry" id="post-629">
<header class="entry-header alignwide">
<h1 class="entry-title">nz_query_history Table</h1> </header>
<div class="entry-content">
<div class="at-above-post addthis_tool" data-url="https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/"></div><span class="rt-reading-time" style="display: block;"><span class="rt-label rt-prefix">Reading Time: </span> <span class="rt-time">4</span> <span class="rt-label rt-postfix">minutes</span></span>
<p><em>Netezza query history configuration</em> steps are simple. You can follow below steps to use <em>Netezza query history views</em> to collect Netezza queries historical data in separate history table in optional history database.</p>
<div class="lwptoc lwptoc-autoWidth lwptoc-baseItems lwptoc-dark lwptoc-notInherit" data-smooth-scroll="1" data-smooth-scroll-offset="24"><div class="lwptoc_i"> <div class="lwptoc_header">
<b class="lwptoc_title">we will cover these topics:</b> <span class="lwptoc_toggle">
<a class="lwptoc_toggle_label" data-label="show" href="index.html#">hide</a>
</span>
</div>
<div class="lwptoc_items lwptoc_items-visible">
<div class="lwptoc_itemWrap"><div class="lwptoc_item"> <a href="index.html#Why_would_we_check_query_history_details">
<span class="lwptoc_item_number">1)</span>
<span class="lwptoc_item_label">Why would we check query history details?</span>
</a>
</div><div class="lwptoc_item"> <a href="index.html#How_to_get_Netezza_Query_History_details_using_nz_query_hostory_table">
<span class="lwptoc_item_number">2)</span>
<span class="lwptoc_item_label">How to get Netezza Query History details using nz_query_hostory table?</span>
</a>
</div><div class="lwptoc_item"> <a href="index.html#nz_query_history_Script">
<span class="lwptoc_item_number">3)</span>
<span class="lwptoc_item_label">nz_query_history Script</span>
</a>
</div><div class="lwptoc_item"> <a href="index.html#Create_History_Database_and_NZ_QUERY_HISTORY_Table">
<span class="lwptoc_item_number">4)</span>
<span class="lwptoc_item_label">Create History Database and NZ_QUERY_HISTORY Table</span>
</a>
</div><div class="lwptoc_item"> <a href="index.html#Populating_NZ_QUERY_HISTORY_Table_with_Query_History_Data">
<span class="lwptoc_item_number">5)</span>
<span class="lwptoc_item_label">Populating NZ_QUERY_HISTORY Table with Query History Data</span>
</a>
<div class="lwptoc_itemWrap"><div class="lwptoc_item"> <a href="index.html#How_to_install_Netezza_Queryhistory_version_3">
<span class="lwptoc_item_number">5.1)</span>
<span class="lwptoc_item_label">How to install Netezza Queryhistory version 3?</span>
</a>
</div></div></div><div class="lwptoc_item"> <a href="index.html#What_to_read_next">
<span class="lwptoc_item_number">6)</span>
<span class="lwptoc_item_label">What to read next?</span>
</a>
</div></div></div>
</div></div><h3><span id="Why_would_we_check_query_history_details">Why would we check query history details?</span></h3>
<ul><li>Identify long running queries so that you can improve the performance of those queries.</li><li>Check Server health. You can identify average time taken from server to execute given queries.</li><li>Identify failed queries.</li><li>Sometimes you may need to check long running queries and offload them to other distributed computing systems such as Hadoop or other high-performance systems. </li><li>Troubleshooting or capacity planning purposes</li></ul>
<h3><span id="How_to_get_Netezza_Query_History_details_using_nz_query_hostory_table">How to get Netezza Query History details using nz_query_hostory table?</span></h3>
<p>There are two ways to get query history in Netezza:</p>
<ul><li><strong>_v_qryhist</strong> – You can query this system view to get Netezza query history details. This is a conceptual view on top of virtual table <em>_t_qryhist</em>.</li><li><strong>nz_query_history</strong> – You can populate this table using IBM provided <em>nz_query_history</em> shell script.</li></ul>
<p>Now let us check how to get Netezza query history details using<br/>nz_query_history table.</p>
<h3><span id="nz_query_history_Script">nz_query_history Script</span></h3>
<p>You can schedule a Netezza <em>nz_query_history</em> script to copy the information currently stored in the system view _v_qryhist to a SPU-based table called NZ_QUERY_HISTORY. This script is provided as part of the Netezza Support tools and it can be scheduled using cron or any scheduling tool if you have. DDL and shell scripts are available at <strong>/nz/support/bin</strong> location.</p>
<h3><span id="Create_History_Database_and_NZ_QUERY_HISTORY_Table">Create History Database and NZ_QUERY_HISTORY Table</span></h3>
<p>As a best practice, it is always better to create separate database<br/>to store any historical information. You can create separate history database<br/>to maintain Netezza query history.</p>
<pre class="wp-block-code"><code>nzsql -c "CREATE DATABASE HIST_DB"</code></pre>
<p>Next, connect to above created database and create the table using the DDL found in <em>/nz/support/bin</em>. </p>
<pre class="wp-block-code"><code>nzsql -d QUERY_HISTORY -f /nz/support/bin/nz_query_history.ddl</code></pre>
<p>Above script will create <strong><em>NZ_QUERY_HISTORY</em></strong> table and <strong><em>NZ_QUERY_HISTORY_VIEW</em></strong> view.</p>
<p>For column details, read IBM official document.</p>
<div class="is-layout-flex wp-container-8 wp-block-columns has-blush-light-purple-gradient-background has-background">
<div class="is-layout-flow wp-block-column" style="flex-basis:33.33%">
<p>Netezza – Full Course</p>
<div class="is-layout-flex wp-container-3 wp-block-columns">
<div class="is-layout-flow wp-block-column" style="flex-basis:66.66%"></div>
<div class="is-layout-flow wp-block-column" style="flex-basis:33.33%"></div>
</div>
<figure class="wp-block-image size-large is-style-default"><img alt="iExpertify-Logo" class="wp-image-1615" decoding="async" height="62" src="https://www.iexpertify.com/wp-content/uploads/2020/12/iExpertify-Logo.png" width="148"/></figure>
<div class="is-layout-flex wp-block-buttons">
<div class="wp-block-button is-style-fill"><a class="wp-block-button__link has-white-color has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background has-text-color has-background" href="https://www.iexpertify.com/learn/full-course/netezza/" style="border-radius:50px">Free Netezza Course</a></div>
</div>
</div>
<div class="is-layout-flow wp-block-column" style="flex-basis:66.66%">
<figure class="wp-block-image size-large is-style-default"><img alt="Netezza TwinFin" class="wp-image-1011" decoding="async" height="548" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://www.iexpertify.com/wp-content/uploads/2020/04/Netezza-TwinFin-12-Hardware-components-1024x548.png" srcset="https://www.iexpertify.com/wp-content/uploads/2020/04/Netezza-TwinFin-12-Hardware-components-1024x548.png 1024w, https://www.iexpertify.com/wp-content/uploads/2020/04/Netezza-TwinFin-12-Hardware-components-300x160.png 300w, https://www.iexpertify.com/wp-content/uploads/2020/04/Netezza-TwinFin-12-Hardware-components-768x411.png 768w, https://www.iexpertify.com/wp-content/uploads/2020/04/Netezza-TwinFin-12-Hardware-components.png 1266w" width="1024"/><figcaption><a data-id="798" data-type="post" href="https://www.iexpertify.com/learn/netezza-twinfin-architecture/">Netezza Twinfin Architecture</a></figcaption></figure>
<figure class="wp-block-image size-large is-style-default"><img alt="Snowflake Beginner Course" class="wp-image-1996" decoding="async" height="297" loading="lazy" sizes="(max-width: 358px) 100vw, 358px" src="https://www.iexpertify.com/wp-content/uploads/2020/12/Snowflake-Beginner-Course.png" srcset="https://www.iexpertify.com/wp-content/uploads/2020/12/Snowflake-Beginner-Course.png 358w, https://www.iexpertify.com/wp-content/uploads/2020/12/Snowflake-Beginner-Course-300x249.png 300w" width="358"/></figure>
<div class="is-layout-flex wp-block-buttons">
<div class="wp-block-button"><a class="wp-block-button__link">Snowflake course</a></div>
</div>
</div>
</div>
<h3><span id="Populating_NZ_QUERY_HISTORY_Table_with_Query_History_Data">Populating NZ_QUERY_HISTORY Table with Query History Data </span></h3>
<p>Next, execute the <em>/nz/support/bin/nz_query_history</em> shell script to copy the data in the system tables to the newly-created NZ_QUERY_HISTORY table found in your new schema.</p>
<pre class="wp-block-code"><code>/nz/support/bin/nz_query_history HIST_DB NZ_QUERY_HISTORY
[[email protected] bin]$ /nz/support/bin/nz_query_history HIST_DB NZ_QUERY_HISTORY
Load session of table 'NZ_QUERY_HISTORY' completed successfully</code></pre>
<p><strong>ISSUE:</strong></p>
<p>Queryhistory stopped collecting data and all the directories under /nz/data/hist are empty.</p>
<p><strong>CAUSE:</strong></p>
<p>This can happen when the max storage limit is reached.</p>
<pre class="wp-block-preformatted">/nz/kit/log/alcapp-&gt;more alcapp.log<br/>2016-01-23 20:32:08.759330 EDT (8231) Error: History Stored Data size: 1000 exceeds STORAGELIMIT (1000).<br/>2016-01-23 20:32:08.765248 EDT (8231) Error: Disabling History Capture.</pre>
<p><strong>RESOLUTION:</strong></p>
<p>To fix the issue you have to increase the maximum storage limit from 1000 MB (in this case) to a higher value. Maximum size allowed is 100GB.</p>
<h4><span id="How_to_install_Netezza_Queryhistory_version_3">How to install Netezza Queryhistory version 3?</span></h4>
<p>Just follow the below steps to install Queryhistory version 3. NOTE: Here we will create Query history database names QHIST3.</p>
<p><strong>1)</strong> Create user’s specific for Queryhistory version 3.</p>
<pre class="wp-block-preformatted">nzsql -c “create user histuser with password ‘<a class="__cf_email__" data-cfemail="3060704343475f4254" href="https://11c9e6b4.iexpertify.pages.dev/cdn-cgi/l/email-protection">[email protected]</a>’ auth local;”
nzsql -c “create user histdbowner with password ‘<a class="__cf_email__" data-cfemail="3c6c7c4f4f4b0c4e58" href="https://11c9e6b4.iexpertify.pages.dev/cdn-cgi/l/email-protection">[email protected]</a>’ auth local;”

</pre>
<p id="block-c21cb7d5-36fe-4e09-87a6-26dd24f5cdda"><strong>2)</strong> Grant privileges to newly created users.</p>
<pre class="wp-block-preformatted">nzsql -c “grant create database to histdbowner;”<br/>nzsql -c “grant list on user to histdbowner;”</pre>
<p><br/><strong>3)</strong> Create the history database ( online help is available “nzhistcreatedb -h” )</p>
<pre class="wp-block-preformatted">nzhistcreatedb -d QHIST3 -t query -o histdbowner -pw <a class="__cf_email__" data-cfemail="5c0c1c2f2f2b6c2e38" href="https://11c9e6b4.iexpertify.pages.dev/cdn-cgi/l/email-protection">[email protected]</a> -u histuser -v 3</pre>
<p><br/><strong>4)</strong> Create the history configuration:</p>
<p>For each history database, create at least one history configuration that specifies the parameter HISTTYPE NONE. Setting this configuration to be the active configuration disables the collection of history data.</p>
<pre class="wp-block-preformatted">nzsql -c “CREATE HISTORY CONFIGURATION hist_disabled HISTTYPE NONE;”</pre>
<pre class="wp-block-preformatted">nzsql -d SYSTEM<br/>CREATE HISTORY CONFIGURATION HISTORY_ENABLE — Name of the history configuration<br/>HISTTYPE QUERY — Type of the history configuration<br/>NPS LOCALHOST<br/>DATABASE QHIST3 — Database that will be used by the history configuration<br/>USER histuser — User that will load history data<br/>PASSWORD ‘<a class="__cf_email__" data-cfemail="0c5c4c7f7f7b637e68" href="https://11c9e6b4.iexpertify.pages.dev/cdn-cgi/l/email-protection">[email protected]</a>’ — Password of the user, if this password change the history configuration must be updated in order to have the latest password to be able to load the data on the History Database.<br/>COLLECT QUERY , PLAN , TABLE , COLUMN , SERVICE , STATE — Information that will be collected<br/>LOADINTERVAL 5 — How long it will wait to load the data on the database<br/>LOADMINTHRESHOLD 4 — The minimun amount in MB to collect before transfer staged batch files to the loading area.<br/>LOADMAXTHRESHOLD 20 — In MB size<br/>STORAGELIMIT 100 — The maximum size of the history data staging area in MB.<br/>LOADRETRY 1 — The number of times that the load operation is retried.<br/>ENABLEHIST TRUE<br/>ENABLESYSTEM TRUE<br/>VERSION 3 — Available on Release 7.1 and on-wards<br/>;</pre>
<p><br/><strong>5)</strong> To start the collection of history data</p>
<pre class="wp-block-preformatted">nzsql -c “set history configuration HISTORY_ENABLE;”</pre>
<p><strong>6)</strong> To activate the new history configuration you need to stop and restart the system, that is, by issuing the nzstop and nzstart.</p>
<div class="at-below-post addthis_tool" data-url="https://www.iexpertify.com/learn/netezza-query-history-details-using-nz_query_history-table/"></div><div class="yarpp yarpp-related yarpp-related-website yarpp-related-none yarpp-template-thumbnails">
<h3><span id="What_to_read_next">What to read next?</span></h3>
<p>Nothing to see here. Consider joining one of our full courses..</p>
</div>
</div>
<footer class="entry-footer default-max-width">
<div class="posted-by"><span class="posted-on">Published <time class="entry-date published updated" datetime="2020-05-10T01:27:34-04:00">May 10, 2020</time></span><span class="byline">By <a href="https://www.iexpertify.com/author/akrish1982/" rel="author">akrish1982</a></span></div><div class="post-taxonomies"><span class="cat-links">Categorized as <a href="https://www.iexpertify.com/category/learn/" rel="category tag">learn</a> </span><span class="tags-links">Tagged <a href="https://www.iexpertify.com/tag/netezza/" rel="tag">Netezza</a></span></div> </footer>
</article>
<nav aria-label="Posts" class="navigation post-navigation">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links"><div class="nav-previous"><a href="https://www.iexpertify.com/learn/netezza-nzstats-command-and-usage/" rel="prev"><p class="meta-nav"><svg aria-hidden="true" class="svg-icon" fill="none" focusable="false" height="24" role="img" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M20 13v-2H8l4-4-1-2-7 7 7 7 1-2-4-4z" fill="currentColor" fill-rule="evenodd"></path></svg>Previous post</p><p class="post-title">nzstats Command Netezza</p></a></div><div class="nav-next"><a href="https://www.iexpertify.com/learn/working-with-netezza-clustered-base-tables-cbt/" rel="next"><p class="meta-nav">Next post<svg aria-hidden="true" class="svg-icon" fill="none" focusable="false" height="24" role="img" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m4 13v-2h12l-4-4 1-2 7 7-7 7-1-2 4-4z" fill="currentColor" fill-rule="evenodd"></path></svg></p><p class="post-title">Netezza Clustered Base Tables (CBT)</p></a></div></div>
</nav> </main>
</div>
</div>
<aside class="widget-area">
<section class="widget widget_search" id="search-2"><form action="https://www.iexpertify.com/" class="search-form" method="get" role="search">
<label for="search-form-9">Search…</label>
<input class="search-field" id="search-form-9" name="s" type="search" value=""/>
<input class="search-submit" type="submit" value="Search"/>
</form>
</section>
<section class="widget widget_recent_entries" id="recent-posts-2">
<h2 class="widget-title">Recent Posts</h2><nav aria-label="Recent Posts">
<ul>
<li>
<a href="https://www.iexpertify.com/linux/linux-commands-for-beginners/">Linux Commands for Beginners</a>
</li>
<li>
<a href="https://www.iexpertify.com/linux/linux-file-permissions/">Linux File Permissions -chmod</a>
</li>
<li>
<a href="https://www.iexpertify.com/linux/grep_regex_example_linux/">Grep Regex Example Linux</a>
</li>
<li>
<a href="https://www.iexpertify.com/data-warehousing/what-is-data-modeling-2/">What is Data Modeling?</a>
</li>
<li>
<a href="https://www.iexpertify.com/linux/input-output-redirection-in-linux-unix-examples/">Input Redirection in Linux/Unix Examples</a>
</li>
</ul>
</nav></section><section class="widget widget_categories" id="categories-2"><h2 class="widget-title">Technologies</h2><nav aria-label="Technologies">
<ul>
<li class="cat-item cat-item-43"><a href="https://www.iexpertify.com/category/aws/">AWS</a>
</li>
<li class="cat-item cat-item-45"><a href="https://www.iexpertify.com/category/cloud/">Cloud</a>
</li>
<li class="cat-item cat-item-14"><a href="https://www.iexpertify.com/category/data-warehousing/">Data Warehousing</a>
</li>
<li class="cat-item cat-item-3"><a href="https://www.iexpertify.com/category/learn/full-course/">Full Course</a>
</li>
<li class="cat-item cat-item-6"><a href="https://www.iexpertify.com/category/interview/">interview</a>
</li>
<li class="cat-item cat-item-2"><a href="https://www.iexpertify.com/category/learn/">learn</a>
</li>
<li class="cat-item cat-item-33"><a href="https://www.iexpertify.com/category/linux/">Linux</a>
</li>
<li class="cat-item cat-item-31"><a href="https://www.iexpertify.com/category/mobile/">Mobile</a>
</li>
<li class="cat-item cat-item-36"><a href="https://www.iexpertify.com/category/programming/">Programming</a>
</li>
<li class="cat-item cat-item-46"><a href="https://www.iexpertify.com/category/temp/temp-datastage/">Temp-Datastage</a>
</li>
<li class="cat-item cat-item-19"><a href="https://www.iexpertify.com/category/temp/temp-testing/">Temp-Testing</a>
</li>
</ul>
</nav></section> </aside>
<footer class="site-footer" id="colophon" role="contentinfo">
<div class="site-info">
<div class="site-name">
<div class="site-logo"><a class="custom-logo-link" href="https://www.iexpertify.com/" rel="home"><img alt="iexpertify" class="custom-logo" decoding="async" height="50" src="https://www.iexpertify.com/wp-content/uploads/2020/12/cropped-iExpertify-Logo.png" width="148"/></a></div>
</div>
<div class="powered-by">
Proudly powered by <a href="https://wordpress.org/">WordPress</a>. </div>
</div>
</footer>
</div>
<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>document.body.classList.remove("no-js");</script> <script>
	if ( -1 !== navigator.userAgent.indexOf( 'MSIE' ) || -1 !== navigator.appVersion.indexOf( 'Trident/' ) ) {
		document.body.classList.add( 'is-IE' );
	}
	</script>
<script data-cfasync="false" type="text/javascript">if (window.addthis_product === undefined) { window.addthis_product = "wpp"; } if (window.wp_product_version === undefined) { window.wp_product_version = "wpp-6.2.7"; } if (window.addthis_share === undefined) { window.addthis_share = {"passthrough":{"twitter":{"via":"iexpertify"}},"url_transforms":{"shorten":{"twitter":"bitly"}},"shorteners":{"bitly":{}}}; } if (window.addthis_config === undefined) { window.addthis_config = {"data_track_clickback":true,"ui_atversion":"300","data_track_addressbar":true}; } if (window.addthis_plugin_info === undefined) { window.addthis_plugin_info = {"info_status":"enabled","cms_name":"WordPress","plugin_name":"Share Buttons by AddThis","plugin_version":"6.2.7","plugin_mode":"AddThis","anonymous_profile_id":"wp-f047919074be910c52a1e941c9b61241","page_info":{"template":"posts","post_type":""},"sharing_enabled_on_post_via_metabox":false}; } 
                    (function() {
                      var first_load_interval_id = setInterval(function () {
                        if (typeof window.addthis !== 'undefined') {
                          window.clearInterval(first_load_interval_id);
                          if (typeof window.addthis_layers !== 'undefined' && Object.getOwnPropertyNames(window.addthis_layers).length > 0) {
                            window.addthis.layers(window.addthis_layers);
                          }
                          if (Array.isArray(window.addthis_layers_tools)) {
                            for (i = 0; i < window.addthis_layers_tools.length; i++) {
                              window.addthis.layers(window.addthis_layers_tools[i]);
                            }
                          }
                        }
                     },1000)
                    }());
                </script> <script data-cfasync="false" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6039ba14c0ef5a39" type="text/javascript"></script>
<script id="twenty-twenty-one-ie11-polyfills-js-after">
( Element.prototype.matches && Element.prototype.closest && window.NodeList && NodeList.prototype.forEach ) || document.write( '<script src="https://www.iexpertify.com/wp-content/themes/twentytwentyone/assets/js/polyfills.js?ver=1.2"></scr' + 'ipt>' );
</script>
<script id="twenty-twenty-one-primary-navigation-script-js" src="https://www.iexpertify.com/wp-content/themes/twentytwentyone/assets/js/primary-navigation.js?ver=1.2"></script>
<script id="twenty-twenty-one-responsive-embeds-script-js" src="https://www.iexpertify.com/wp-content/themes/twentytwentyone/assets/js/responsive-embeds.js?ver=1.2"></script>
<script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}),!1);
	</script>

<script crossorigin="anonymous" data-cf-beacon='{"rayId":"780f23eb1bc13805","version":"2022.11.3","r":1,"token":"f16aadd6ea834e8688697712549b4e6f","si":100}' defer="" integrity="sha512-0ahDYl866UMhKuYcW078ScMalXqtFJggm7TmlUtp0UlD4eQk0Ixfnm5ykXKvGJNFjLMoortdseTfsRT8oCfgGA==" src="https://static.cloudflareinsights.com/beacon.min.js/vaafb692b2aea4879b33c060e79fe94621666317369993"></script>
</body>
</html>
